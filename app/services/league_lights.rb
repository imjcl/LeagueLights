module LeagueLights
  def self.match_free_champions
    unless REDIS.exists 'free_ids'
      REDIS.set 'free_ids', RiotAPI::Champion.get_free_champions
      REDIS.expire 'free_ids', 432000
    end

    unless REDIS.exists 'static_data'
      REDIS.set 'static_data', RiotAPI::StaticData.get_champion_static_data
      REDIS.expire 'static_data', 432000
    end

    free_ids = JSON.parse REDIS.get 'free_ids'
    static_data = JSON.parse REDIS.get 'static_data'
    #static_data = RiotAPI::StaticData.get_champion_static_data
    #static_data =  {"type"=>"champion", "version"=>"4.14.2", "data"=>{"Aatrox"=>{"id"=>266, "key"=>"Aatrox", "name"=>"Aatrox", "title"=>"the Darkin Blade", "info"=>{"attack"=>8, "defense"=>4, "magic"=>3, "difficulty"=>6}}, "Thresh"=>{"id"=>412, "key"=>"Thresh", "name"=>"Thresh", "title"=>"the Chain Warden", "info"=>{"attack"=>5, "defense"=>6, "magic"=>6, "difficulty"=>7}}, "Tryndamere"=>{"id"=>23, "key"=>"Tryndamere", "name"=>"Tryndamere", "title"=>"the Barbarian King", "info"=>{"attack"=>10, "defense"=>5, "magic"=>2, "difficulty"=>6}}, "Gragas"=>{"id"=>79, "key"=>"Gragas", "name"=>"Gragas", "title"=>"the Rabble Rouser", "info"=>{"attack"=>4, "defense"=>7, "magic"=>6, "difficulty"=>6}}, "Cassiopeia"=>{"id"=>69, "key"=>"Cassiopeia", "name"=>"Cassiopeia", "title"=>"the Serpent's Embrace", "info"=>{"attack"=>2, "defense"=>3, "magic"=>9, "difficulty"=>10}}, "Poppy"=>{"id"=>78, "key"=>"Poppy", "name"=>"Poppy", "title"=>"the Iron Ambassador", "info"=>{"attack"=>6, "defense"=>6, "magic"=>5, "difficulty"=>7}}, "Ryze"=>{"id"=>13, "key"=>"Ryze", "name"=>"Ryze", "title"=>"the Rogue Mage", "info"=>{"attack"=>2, "defense"=>2, "magic"=>10, "difficulty"=>3}}, "Sion"=>{"id"=>14, "key"=>"Sion", "name"=>"Sion", "title"=>"the Undead Champion", "info"=>{"attack"=>5, "defense"=>8, "magic"=>7, "difficulty"=>4}}, "Annie"=>{"id"=>1, "key"=>"Annie", "name"=>"Annie", "title"=>"the Dark Child", "info"=>{"attack"=>2, "defense"=>3, "magic"=>10, "difficulty"=>4}}, "Karma"=>{"id"=>43, "key"=>"Karma", "name"=>"Karma", "title"=>"the Enlightened One", "info"=>{"attack"=>1, "defense"=>7, "magic"=>8, "difficulty"=>8}}, "Nautilus"=>{"id"=>111, "key"=>"Nautilus", "name"=>"Nautilus", "title"=>"the Titan of the Depths", "info"=>{"attack"=>4, "defense"=>6, "magic"=>6, "difficulty"=>6}}, "Lux"=>{"id"=>99, "key"=>"Lux", "name"=>"Lux", "title"=>"the Lady of Luminosity", "info"=>{"attack"=>2, "defense"=>4, "magic"=>9, "difficulty"=>6}}, "Ahri"=>{"id"=>103, "key"=>"Ahri", "name"=>"Ahri", "title"=>"the Nine-Tailed Fox", "info"=>{"attack"=>3, "defense"=>4, "magic"=>8, "difficulty"=>8}}, "Olaf"=>{"id"=>2, "key"=>"Olaf", "name"=>"Olaf", "title"=>"the Berserker", "info"=>{"attack"=>9, "defense"=>5, "magic"=>3, "difficulty"=>4}}, "Viktor"=>{"id"=>112, "key"=>"Viktor", "name"=>"Viktor", "title"=>"the Machine Herald", "info"=>{"attack"=>2, "defense"=>5, "magic"=>9, "difficulty"=>9}}, "Anivia"=>{"id"=>34, "key"=>"Anivia", "name"=>"Anivia", "title"=>"the Cryophoenix", "info"=>{"attack"=>1, "defense"=>4, "magic"=>10, "difficulty"=>8}}, "Garen"=>{"id"=>86, "key"=>"Garen", "name"=>"Garen", "title"=>"The Might of Demacia", "info"=>{"attack"=>7, "defense"=>7, "magic"=>1, "difficulty"=>2}}, "Singed"=>{"id"=>27, "key"=>"Singed", "name"=>"Singed", "title"=>"the Mad Chemist", "info"=>{"attack"=>4, "defense"=>8, "magic"=>7, "difficulty"=>5}}, "Lissandra"=>{"id"=>127, "key"=>"Lissandra", "name"=>"Lissandra", "title"=>"the Ice Witch", "info"=>{"attack"=>2, "defense"=>5, "magic"=>8, "difficulty"=>8}}, "Maokai"=>{"id"=>57, "key"=>"Maokai", "name"=>"Maokai", "title"=>"the Twisted Treant", "info"=>{"attack"=>3, "defense"=>8, "magic"=>6, "difficulty"=>4}}, "Morgana"=>{"id"=>25, "key"=>"Morgana", "name"=>"Morgana", "title"=>"Fallen Angel", "info"=>{"attack"=>1, "defense"=>6, "magic"=>8, "difficulty"=>6}}, "Evelynn"=>{"id"=>28, "key"=>"Evelynn", "name"=>"Evelynn", "title"=>"the Widowmaker", "info"=>{"attack"=>4, "defense"=>2, "magic"=>7, "difficulty"=>8}}, "Fizz"=>{"id"=>105, "key"=>"Fizz", "name"=>"Fizz", "title"=>"the Tidal Trickster", "info"=>{"attack"=>6, "defense"=>4, "magic"=>7, "difficulty"=>8}}, "Zed"=>{"id"=>238, "key"=>"Zed", "name"=>"Zed", "title"=>"the Master of Shadows", "info"=>{"attack"=>9, "defense"=>2, "magic"=>1, "difficulty"=>9}}, "Heimerdinger"=>{"id"=>74, "key"=>"Heimerdinger", "name"=>"Heimerdinger", "title"=>"the Revered Inventor", "info"=>{"attack"=>2, "defense"=>6, "magic"=>8, "difficulty"=>4}}, "Rumble"=>{"id"=>68, "key"=>"Rumble", "name"=>"Rumble", "title"=>"the Mechanized Menace", "info"=>{"attack"=>3, "defense"=>6, "magic"=>8, "difficulty"=>8}}, "Mordekaiser"=>{"id"=>82, "key"=>"Mordekaiser", "name"=>"Mordekaiser", "title"=>"the Master of Metal", "info"=>{"attack"=>4, "defense"=>6, "magic"=>7, "difficulty"=>3}}, "Sona"=>{"id"=>37, "key"=>"Sona", "name"=>"Sona", "title"=>"Maven of the Strings", "info"=>{"attack"=>5, "defense"=>2, "magic"=>8, "difficulty"=>1}}, "Katarina"=>{"id"=>55, "key"=>"Katarina", "name"=>"Katarina", "title"=>"the Sinister Blade", "info"=>{"attack"=>4, "defense"=>3, "magic"=>9, "difficulty"=>5}}, "KogMaw"=>{"id"=>96, "key"=>"KogMaw", "name"=>"Kog'Maw", "title"=>"the Mouth of the Abyss", "info"=>{"attack"=>8, "defense"=>2, "magic"=>5, "difficulty"=>8}}, "Ashe"=>{"id"=>22, "key"=>"Ashe", "name"=>"Ashe", "title"=>"the Frost Archer", "info"=>{"attack"=>7, "defense"=>3, "magic"=>2, "difficulty"=>4}}, "Lulu"=>{"id"=>117, "key"=>"Lulu", "name"=>"Lulu", "title"=>"the Fae Sorceress", "info"=>{"attack"=>4, "defense"=>5, "magic"=>7, "difficulty"=>7}}, "Karthus"=>{"id"=>30, "key"=>"Karthus", "name"=>"Karthus", "title"=>"the Deathsinger", "info"=>{"attack"=>2, "defense"=>2, "magic"=>10, "difficulty"=>8}}, "Alistar"=>{"id"=>12, "key"=>"Alistar", "name"=>"Alistar", "title"=>"the Minotaur", "info"=>{"attack"=>6, "defense"=>9, "magic"=>5, "difficulty"=>8}}, "Darius"=>{"id"=>122, "key"=>"Darius", "name"=>"Darius", "title"=>"the Hand of Noxus", "info"=>{"attack"=>9, "defense"=>5, "magic"=>1, "difficulty"=>4}}, "Vayne"=>{"id"=>67, "key"=>"Vayne", "name"=>"Vayne", "title"=>"the Night Hunter", "info"=>{"attack"=>10, "defense"=>1, "magic"=>1, "difficulty"=>7}}, "Varus"=>{"id"=>110, "key"=>"Varus", "name"=>"Varus", "title"=>"the Arrow of Retribution", "info"=>{"attack"=>7, "defense"=>3, "magic"=>4, "difficulty"=>6}}, "Udyr"=>{"id"=>77, "key"=>"Udyr", "name"=>"Udyr", "title"=>"the Spirit Walker", "info"=>{"attack"=>8, "defense"=>7, "magic"=>4, "difficulty"=>5}}, "Jayce"=>{"id"=>126, "key"=>"Jayce", "name"=>"Jayce", "title"=>"the Defender of Tomorrow", "info"=>{"attack"=>8, "defense"=>4, "magic"=>3, "difficulty"=>8}}, "Leona"=>{"id"=>89, "key"=>"Leona", "name"=>"Leona", "title"=>"the Radiant Dawn", "info"=>{"attack"=>4, "defense"=>8, "magic"=>3, "difficulty"=>4}}, "Syndra"=>{"id"=>134, "key"=>"Syndra", "name"=>"Syndra", "title"=>"the Dark Sovereign", "info"=>{"attack"=>2, "defense"=>3, "magic"=>9, "difficulty"=>10}}, "Pantheon"=>{"id"=>80, "key"=>"Pantheon", "name"=>"Pantheon", "title"=>"the Artisan of War", "info"=>{"attack"=>9, "defense"=>4, "magic"=>3, "difficulty"=>5}}, "Khazix"=>{"id"=>121, "key"=>"Khazix", "name"=>"Kha'Zix", "title"=>"the Voidreaver", "info"=>{"attack"=>9, "defense"=>4, "magic"=>3, "difficulty"=>7}}, "Riven"=>{"id"=>92, "key"=>"Riven", "name"=>"Riven", "title"=>"the Exile", "info"=>{"attack"=>8, "defense"=>5, "magic"=>1, "difficulty"=>4}}, "Corki"=>{"id"=>42, "key"=>"Corki", "name"=>"Corki", "title"=>"the Daring Bombardier", "info"=>{"attack"=>8, "defense"=>3, "magic"=>6, "difficulty"=>7}}, "Caitlyn"=>{"id"=>51, "key"=>"Caitlyn", "name"=>"Caitlyn", "title"=>"the Sheriff of Piltover", "info"=>{"attack"=>8, "defense"=>2, "magic"=>2, "difficulty"=>4}}, "Nidalee"=>{"id"=>76, "key"=>"Nidalee", "name"=>"Nidalee", "title"=>"the Bestial Huntress", "info"=>{"attack"=>5, "defense"=>4, "magic"=>7, "difficulty"=>7}}, "Galio"=>{"id"=>3, "key"=>"Galio", "name"=>"Galio", "title"=>"the Sentinel's Sorrow", "info"=>{"attack"=>3, "defense"=>7, "magic"=>6, "difficulty"=>4}}, "Kennen"=>{"id"=>85, "key"=>"Kennen", "name"=>"Kennen", "title"=>"the Heart of the Tempest", "info"=>{"attack"=>6, "defense"=>4, "magic"=>7, "difficulty"=>5}}, "Veigar"=>{"id"=>45, "key"=>"Veigar", "name"=>"Veigar", "title"=>"the Tiny Master of Evil", "info"=>{"attack"=>2, "defense"=>2, "magic"=>10, "difficulty"=>6}}, "Gnar"=>{"id"=>150, "key"=>"Gnar", "name"=>"Gnar", "title"=>"the Missing Link", "info"=>{"attack"=>6, "defense"=>5, "magic"=>5, "difficulty"=>8}}, "Graves"=>{"id"=>104, "key"=>"Graves", "name"=>"Graves", "title"=>"the Outlaw", "info"=>{"attack"=>8, "defense"=>5, "magic"=>3, "difficulty"=>4}}, "Malzahar"=>{"id"=>90, "key"=>"Malzahar", "name"=>"Malzahar", "title"=>"the Prophet of the Void", "info"=>{"attack"=>2, "defense"=>2, "magic"=>9, "difficulty"=>6}}, "Vi"=>{"id"=>254, "key"=>"Vi", "name"=>"Vi", "title"=>"the Piltover Enforcer", "info"=>{"attack"=>8, "defense"=>5, "magic"=>3, "difficulty"=>5}}, "Kayle"=>{"id"=>10, "key"=>"Kayle", "name"=>"Kayle", "title"=>"The Judicator", "info"=>{"attack"=>6, "defense"=>6, "magic"=>7, "difficulty"=>5}}, "Irelia"=>{"id"=>39, "key"=>"Irelia", "name"=>"Irelia", "title"=>"the Will of the Blades", "info"=>{"attack"=>7, "defense"=>4, "magic"=>5, "difficulty"=>5}}, "LeeSin"=>{"id"=>64, "key"=>"LeeSin", "name"=>"Lee Sin", "title"=>"the Blind Monk", "info"=>{"attack"=>8, "defense"=>5, "magic"=>3, "difficulty"=>9}}, "Elise"=>{"id"=>60, "key"=>"Elise", "name"=>"Elise", "title"=>"The Spider Queen", "info"=>{"attack"=>6, "defense"=>5, "magic"=>7, "difficulty"=>8}}, "Volibear"=>{"id"=>106, "key"=>"Volibear", "name"=>"Volibear", "title"=>"the Thunder's Roar", "info"=>{"attack"=>7, "defense"=>7, "magic"=>4, "difficulty"=>2}}, "Nunu"=>{"id"=>20, "key"=>"Nunu", "name"=>"Nunu", "title"=>"the Yeti Rider", "info"=>{"attack"=>4, "defense"=>6, "magic"=>7, "difficulty"=>1}}, "TwistedFate"=>{"id"=>4, "key"=>"TwistedFate", "name"=>"Twisted Fate", "title"=>"the Card Master", "info"=>{"attack"=>6, "defense"=>2, "magic"=>6, "difficulty"=>9}}, "Jax"=>{"id"=>24, "key"=>"Jax", "name"=>"Jax", "title"=>"Grandmaster at Arms", "info"=>{"attack"=>7, "defense"=>5, "magic"=>7, "difficulty"=>6}}, "Shyvana"=>{"id"=>102, "key"=>"Shyvana", "name"=>"Shyvana", "title"=>"the Half-Dragon", "info"=>{"attack"=>8, "defense"=>6, "magic"=>3, "difficulty"=>4}}, "DrMundo"=>{"id"=>36, "key"=>"DrMundo", "name"=>"Dr. Mundo", "title"=>"the Madman of Zaun", "info"=>{"attack"=>5, "defense"=>7, "magic"=>6, "difficulty"=>4}}, "Brand"=>{"id"=>63, "key"=>"Brand", "name"=>"Brand", "title"=>"the Burning Vengeance", "info"=>{"attack"=>2, "defense"=>2, "magic"=>9, "difficulty"=>6}}, "Diana"=>{"id"=>131, "key"=>"Diana", "name"=>"Diana", "title"=>"Scorn of the Moon", "info"=>{"attack"=>7, "defense"=>6, "magic"=>8, "difficulty"=>4}}, "Sejuani"=>{"id"=>113, "key"=>"Sejuani", "name"=>"Sejuani", "title"=>"the Winter's Wrath", "info"=>{"attack"=>5, "defense"=>7, "magic"=>6, "difficulty"=>4}}, "Vladimir"=>{"id"=>8, "key"=>"Vladimir", "name"=>"Vladimir", "title"=>"the Crimson Reaper", "info"=>{"attack"=>2, "defense"=>6, "magic"=>8, "difficulty"=>2}}, "Zac"=>{"id"=>154, "key"=>"Zac", "name"=>"Zac", "title"=>"the Secret Weapon", "info"=>{"attack"=>3, "defense"=>7, "magic"=>7, "difficulty"=>6}}, "Quinn"=>{"id"=>133, "key"=>"Quinn", "name"=>"Quinn", "title"=>"Demacia's Wings", "info"=>{"attack"=>9, "defense"=>4, "magic"=>2, "difficulty"=>7}}, "Akali"=>{"id"=>84, "key"=>"Akali", "name"=>"Akali", "title"=>"the Fist of Shadow", "info"=>{"attack"=>5, "defense"=>3, "magic"=>8, "difficulty"=>6}}, "Tristana"=>{"id"=>18, "key"=>"Tristana", "name"=>"Tristana", "title"=>"the Megling Gunner", "info"=>{"attack"=>9, "defense"=>3, "magic"=>5, "difficulty"=>3}}, "Hecarim"=>{"id"=>120, "key"=>"Hecarim", "name"=>"Hecarim", "title"=>"the Shadow of War", "info"=>{"attack"=>8, "defense"=>6, "magic"=>4, "difficulty"=>5}}, "Sivir"=>{"id"=>15, "key"=>"Sivir", "name"=>"Sivir", "title"=>"the Battle Mistress", "info"=>{"attack"=>9, "defense"=>3, "magic"=>1, "difficulty"=>3}}, "Lucian"=>{"id"=>236, "key"=>"Lucian", "name"=>"Lucian", "title"=>"the Purifier", "info"=>{"attack"=>8, "defense"=>5, "magic"=>3, "difficulty"=>8}}, "Rengar"=>{"id"=>107, "key"=>"Rengar", "name"=>"Rengar", "title"=>"the Pridestalker", "info"=>{"attack"=>7, "defense"=>4, "magic"=>2, "difficulty"=>5}}, "Warwick"=>{"id"=>19, "key"=>"Warwick", "name"=>"Warwick", "title"=>"the Blood Hunter", "info"=>{"attack"=>7, "defense"=>4, "magic"=>4, "difficulty"=>2}}, "Skarner"=>{"id"=>72, "key"=>"Skarner", "name"=>"Skarner", "title"=>"the Crystal Vanguard", "info"=>{"attack"=>7, "defense"=>6, "magic"=>5, "difficulty"=>5}}, "Malphite"=>{"id"=>54, "key"=>"Malphite", "name"=>"Malphite", "title"=>"Shard of the Monolith", "info"=>{"attack"=>5, "defense"=>9, "magic"=>7, "difficulty"=>3}}, "Yasuo"=>{"id"=>157, "key"=>"Yasuo", "name"=>"Yasuo", "title"=>"the Unforgiven", "info"=>{"attack"=>8, "defense"=>4, "magic"=>4, "difficulty"=>8}}, "Xerath"=>{"id"=>101, "key"=>"Xerath", "name"=>"Xerath", "title"=>"the Magus Ascendant", "info"=>{"attack"=>1, "defense"=>3, "magic"=>10, "difficulty"=>6}}, "Teemo"=>{"id"=>17, "key"=>"Teemo", "name"=>"Teemo", "title"=>"the Swift Scout", "info"=>{"attack"=>5, "defense"=>3, "magic"=>7, "difficulty"=>4}}, "Nasus"=>{"id"=>75, "key"=>"Nasus", "name"=>"Nasus", "title"=>"the Curator of the Sands", "info"=>{"attack"=>7, "defense"=>5, "magic"=>6, "difficulty"=>2}}, "Renekton"=>{"id"=>58, "key"=>"Renekton", "name"=>"Renekton", "title"=>"the Butcher of the Sands", "info"=>{"attack"=>8, "defense"=>5, "magic"=>2, "difficulty"=>3}}, "Draven"=>{"id"=>119, "key"=>"Draven", "name"=>"Draven", "title"=>"the Glorious Executioner", "info"=>{"attack"=>9, "defense"=>3, "magic"=>1, "difficulty"=>10}}, "Shaco"=>{"id"=>35, "key"=>"Shaco", "name"=>"Shaco", "title"=>"the Demon Jester", "info"=>{"attack"=>8, "defense"=>4, "magic"=>6, "difficulty"=>9}}, "Swain"=>{"id"=>50, "key"=>"Swain", "name"=>"Swain", "title"=>"the Master Tactician", "info"=>{"attack"=>2, "defense"=>6, "magic"=>9, "difficulty"=>5}}, "Ziggs"=>{"id"=>115, "key"=>"Ziggs", "name"=>"Ziggs", "title"=>"the Hexplosives Expert", "info"=>{"attack"=>2, "defense"=>4, "magic"=>9, "difficulty"=>6}}, "Janna"=>{"id"=>40, "key"=>"Janna", "name"=>"Janna", "title"=>"the Storm's Fury", "info"=>{"attack"=>3, "defense"=>5, "magic"=>7, "difficulty"=>9}}, "Talon"=>{"id"=>91, "key"=>"Talon", "name"=>"Talon", "title"=>"the Blade's Shadow", "info"=>{"attack"=>9, "defense"=>3, "magic"=>1, "difficulty"=>6}}, "Orianna"=>{"id"=>61, "key"=>"Orianna", "name"=>"Orianna", "title"=>"the Lady of Clockwork", "info"=>{"attack"=>4, "defense"=>3, "magic"=>9, "difficulty"=>10}}, "FiddleSticks"=>{"id"=>9, "key"=>"FiddleSticks", "name"=>"Fiddlesticks", "title"=>"the Harbinger of Doom", "info"=>{"attack"=>2, "defense"=>3, "magic"=>9, "difficulty"=>5}}, "Fiora"=>{"id"=>114, "key"=>"Fiora", "name"=>"Fiora", "title"=>"the Grand Duelist", "info"=>{"attack"=>10, "defense"=>4, "magic"=>2, "difficulty"=>5}}, "Chogath"=>{"id"=>31, "key"=>"Chogath", "name"=>"Cho'Gath", "title"=>"the Terror of the Void", "info"=>{"attack"=>3, "defense"=>7, "magic"=>7, "difficulty"=>7}}, "Rammus"=>{"id"=>33, "key"=>"Rammus", "name"=>"Rammus", "title"=>"the Armordillo", "info"=>{"attack"=>4, "defense"=>10, "magic"=>5, "difficulty"=>5}}, "Leblanc"=>{"id"=>7, "key"=>"Leblanc", "name"=>"LeBlanc", "title"=>"the Deceiver", "info"=>{"attack"=>1, "defense"=>4, "magic"=>10, "difficulty"=>9}}, "Zilean"=>{"id"=>26, "key"=>"Zilean", "name"=>"Zilean", "title"=>"the Chronokeeper", "info"=>{"attack"=>2, "defense"=>5, "magic"=>8, "difficulty"=>4}}, "Soraka"=>{"id"=>16, "key"=>"Soraka", "name"=>"Soraka", "title"=>"the Starchild", "info"=>{"attack"=>2, "defense"=>5, "magic"=>7, "difficulty"=>3}}, "Nocturne"=>{"id"=>56, "key"=>"Nocturne", "name"=>"Nocturne", "title"=>"the Eternal Nightmare", "info"=>{"attack"=>9, "defense"=>5, "magic"=>2, "difficulty"=>6}}, "Jinx"=>{"id"=>222, "key"=>"Jinx", "name"=>"Jinx", "title"=>"the Loose Cannon", "info"=>{"attack"=>9, "defense"=>2, "magic"=>4, "difficulty"=>7}}, "Yorick"=>{"id"=>83, "key"=>"Yorick", "name"=>"Yorick", "title"=>"the Gravedigger", "info"=>{"attack"=>6, "defense"=>6, "magic"=>6, "difficulty"=>3}}, "Urgot"=>{"id"=>6, "key"=>"Urgot", "name"=>"Urgot", "title"=>"the Headsman's Pride", "info"=>{"attack"=>8, "defense"=>5, "magic"=>3, "difficulty"=>8}}, "MissFortune"=>{"id"=>21, "key"=>"MissFortune", "name"=>"Miss Fortune", "title"=>"the Bounty Hunter", "info"=>{"attack"=>8, "defense"=>2, "magic"=>5, "difficulty"=>3}}, "MonkeyKing"=>{"id"=>62, "key"=>"MonkeyKing", "name"=>"Wukong", "title"=>"the Monkey King", "info"=>{"attack"=>8, "defense"=>5, "magic"=>2, "difficulty"=>3}}, "Blitzcrank"=>{"id"=>53, "key"=>"Blitzcrank", "name"=>"Blitzcrank", "title"=>"the Great Steam Golem", "info"=>{"attack"=>4, "defense"=>8, "magic"=>5, "difficulty"=>6}}, "Shen"=>{"id"=>98, "key"=>"Shen", "name"=>"Shen", "title"=>"Eye of Twilight", "info"=>{"attack"=>3, "defense"=>9, "magic"=>3, "difficulty"=>3}}, "Braum"=>{"id"=>201, "key"=>"Braum", "name"=>"Braum", "title"=>"the Heart of the Freljord", "info"=>{"attack"=>3, "defense"=>9, "magic"=>4, "difficulty"=>6}}, "XinZhao"=>{"id"=>5, "key"=>"XinZhao", "name"=>"Xin Zhao", "title"=>"the Seneschal of Demacia", "info"=>{"attack"=>8, "defense"=>6, "magic"=>3, "difficulty"=>3}}, "Twitch"=>{"id"=>29, "key"=>"Twitch", "name"=>"Twitch", "title"=>"the Plague Rat", "info"=>{"attack"=>9, "defense"=>2, "magic"=>3, "difficulty"=>8}}, "MasterYi"=>{"id"=>11, "key"=>"MasterYi", "name"=>"Master Yi", "title"=>"the Wuju Bladesman", "info"=>{"attack"=>10, "defense"=>4, "magic"=>2, "difficulty"=>2}}, "Taric"=>{"id"=>44, "key"=>"Taric", "name"=>"Taric", "title"=>"the Gem Knight", "info"=>{"attack"=>4, "defense"=>8, "magic"=>5, "difficulty"=>3}}, "Amumu"=>{"id"=>32, "key"=>"Amumu", "name"=>"Amumu", "title"=>"the Sad Mummy", "info"=>{"attack"=>2, "defense"=>6, "magic"=>8, "difficulty"=>4}}, "Gangplank"=>{"id"=>41, "key"=>"Gangplank", "name"=>"Gangplank", "title"=>"the Saltwater Scourge", "info"=>{"attack"=>7, "defense"=>6, "magic"=>4, "difficulty"=>5}}, "Trundle"=>{"id"=>48, "key"=>"Trundle", "name"=>"Trundle", "title"=>"the Troll King", "info"=>{"attack"=>7, "defense"=>6, "magic"=>2, "difficulty"=>5}}, "Kassadin"=>{"id"=>38, "key"=>"Kassadin", "name"=>"Kassadin", "title"=>"the Void Walker", "info"=>{"attack"=>3, "defense"=>5, "magic"=>8, "difficulty"=>8}}, "Velkoz"=>{"id"=>161, "key"=>"Velkoz", "name"=>"Vel'Koz", "title"=>"the Eye of the Void", "info"=>{"attack"=>2, "defense"=>2, "magic"=>10, "difficulty"=>8}}, "Zyra"=>{"id"=>143, "key"=>"Zyra", "name"=>"Zyra", "title"=>"Rise of the Thorns", "info"=>{"attack"=>4, "defense"=>3, "magic"=>8, "difficulty"=>7}}, "Nami"=>{"id"=>267, "key"=>"Nami", "name"=>"Nami", "title"=>"the Tidecaller", "info"=>{"attack"=>4, "defense"=>3, "magic"=>7, "difficulty"=>8}}, "JarvanIV"=>{"id"=>59, "key"=>"JarvanIV", "name"=>"Jarvan IV", "title"=>"the Exemplar of Demacia", "info"=>{"attack"=>6, "defense"=>8, "magic"=>3, "difficulty"=>5}}, "Ezreal"=>{"id"=>81, "key"=>"Ezreal", "name"=>"Ezreal", "title"=>"the Prodigal Explorer", "info"=>{"attack"=>7, "defense"=>2, "magic"=>6, "difficulty"=>8}}}} 
    #free_ids = {"champions"=>[{"id"=>103, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>51, "active"=>true, "botEnabled"=>true, "freeToPlay"=>true, "botMmEnabled"=>true, "rankedPlayEnabled"=>true}, {"id"=>119, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>43, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>11, "active"=>true, "botEnabled"=>true, "freeToPlay"=>true, "botMmEnabled"=>true, "rankedPlayEnabled"=>true}, {"id"=>2, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>16, "active"=>true, "botEnabled"=>true, "freeToPlay"=>true, "botMmEnabled"=>true, "rankedPlayEnabled"=>true}, {"id"=>17, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>112, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}, {"id"=>106, "active"=>true, "botEnabled"=>false, "freeToPlay"=>true, "botMmEnabled"=>false, "rankedPlayEnabled"=>true}]}
    champion_data = []

    free_ids["champions"].each do |champion|
      champion_data << static_data["data"].select { |name, value| value["id"] == champion["id"] }
    end
    
    champion_data
  end

  def self.match_champion_to_id champion_name
    unless REDIS.exists 'static_data'
      REDIS.set 'static_data', RiotAPI::StaticData.get_champion_static_data
    end
    champion_info = (JSON.parse REDIS.get 'static_data')['data']

    match = champion_info.select do |k, v| 
      k.downcase == champion_name
    end

    id = match[match.keys[0]]["id"]

    unless REDIS.exists "#{id}_ability"
      REDIS.set "#{id}_ability", (RiotAPI::StaticData.get_champion_abilities id)
      REDIS.expire "#{id}_ability", 432000
    end

    abilities = JSON.parse REDIS.get "#{id}_ability"
  end  
end